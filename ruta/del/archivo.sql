-- H2 2.3.232;
SET DB_CLOSE_DELAY -1;        
;             
CREATE USER IF NOT EXISTS "SA" SALT '1cfbbc5f652b4a06' HASH 'a56efcf7065fd8485a000511cb827486bea0baed20101e2d5cfe5f01ba8db881' ADMIN;         
CREATE CACHED TABLE "PUBLIC"."CATEGORIA"(
    "ID_CATEGORIA" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,
    "DESCRIPCION" CHARACTER VARYING(255),
    "NOMBRE" CHARACTER VARYING(255) NOT NULL
);    
ALTER TABLE "PUBLIC"."CATEGORIA" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_3" PRIMARY KEY("ID_CATEGORIA");          
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.CATEGORIA;               
CREATE CACHED TABLE "PUBLIC"."CLIENTE"(
    "ID_CLIENTE" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,
    "DIRECCION" CHARACTER VARYING(255),
    "EMAIL" CHARACTER VARYING(255),
    "NOMBRE" CHARACTER VARYING(255),
    "TELEFONO" CHARACTER VARYING(255)
);      
ALTER TABLE "PUBLIC"."CLIENTE" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_5" PRIMARY KEY("ID_CLIENTE");              
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.CLIENTE; 
CREATE CACHED TABLE "PUBLIC"."DETALLE_VENTA"(
    "CANTIDAD" INTEGER,
    "PRECIO_UNITARIO" FLOAT(53),
    "SUBTOTAL" FLOAT(53),
    "ID_DETALLE_VENTA" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,
    "ID_PRODUCTO" BIGINT NOT NULL,
    "ID_VENTA" BIGINT NOT NULL
);           
ALTER TABLE "PUBLIC"."DETALLE_VENTA" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_1" PRIMARY KEY("ID_DETALLE_VENTA");  
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.DETALLE_VENTA;           
CREATE CACHED TABLE "PUBLIC"."PRODUCTO"(
    "PRECIO" FLOAT(53),
    "STOCK" INTEGER,
    "ID_CATEGORIA" BIGINT,
    "ID_PRODUCTO" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,
    "ID_PROVEEDOR" BIGINT,
    "DESCRIPCION" CHARACTER VARYING(255),
    "NOMBRE" CHARACTER VARYING(255) NOT NULL
);               
ALTER TABLE "PUBLIC"."PRODUCTO" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_F" PRIMARY KEY("ID_PRODUCTO");            
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.PRODUCTO;
CREATE CACHED TABLE "PUBLIC"."PROVEEDOR"(
    "ID_PROVEEDOR" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,
    "EMAIL" CHARACTER VARYING(255),
    "NOMBRE" CHARACTER VARYING(255) NOT NULL,
    "TELEFONO" CHARACTER VARYING(255)
);  
ALTER TABLE "PUBLIC"."PROVEEDOR" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_8" PRIMARY KEY("ID_PROVEEDOR");          
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.PROVEEDOR;               
CREATE CACHED TABLE "PUBLIC"."VENTA"(
    "TOTAL" FLOAT(53),
    "FECHA" TIMESTAMP(6),
    "ID_CLIENTE" BIGINT NOT NULL,
    "ID_VENTA" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL
);
ALTER TABLE "PUBLIC"."VENTA" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_4" PRIMARY KEY("ID_VENTA");  
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.VENTA;   
ALTER TABLE "PUBLIC"."DETALLE_VENTA" ADD CONSTRAINT "PUBLIC"."FKOKNPG31RXSQNJXRSU7IY47P1O" FOREIGN KEY("ID_VENTA") REFERENCES "PUBLIC"."VENTA"("ID_VENTA") NOCHECK;           
ALTER TABLE "PUBLIC"."DETALLE_VENTA" ADD CONSTRAINT "PUBLIC"."FKSNTAIK0T9JXCKY777753WYTSX" FOREIGN KEY("ID_PRODUCTO") REFERENCES "PUBLIC"."PRODUCTO"("ID_PRODUCTO") NOCHECK;  
ALTER TABLE "PUBLIC"."VENTA" ADD CONSTRAINT "PUBLIC"."FKSOR2QMI3THAO7A8OR49VLOHP9" FOREIGN KEY("ID_CLIENTE") REFERENCES "PUBLIC"."CLIENTE"("ID_CLIENTE") NOCHECK;             
ALTER TABLE "PUBLIC"."PRODUCTO" ADD CONSTRAINT "PUBLIC"."FK9NYUEIXDSGBYCFHF7ALLG8SU" FOREIGN KEY("ID_CATEGORIA") REFERENCES "PUBLIC"."CATEGORIA"("ID_CATEGORIA") NOCHECK;     
ALTER TABLE "PUBLIC"."PRODUCTO" ADD CONSTRAINT "PUBLIC"."FKKINJNX6SXV6KF9S6I21TTFNFO" FOREIGN KEY("ID_PROVEEDOR") REFERENCES "PUBLIC"."PROVEEDOR"("ID_PROVEEDOR") NOCHECK;    
